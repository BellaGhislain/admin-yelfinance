<!DOCTYPE html>
<html lang="fr">

<head>
  <!-- Required Meta Tags Always Come First -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Title -->
  <title>Centre de Formation - Dashboard</title>

  <!-- Favicon -->
  <link rel="shortcut icon" href="favicon.ico">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet">

  <!-- CSS Implementing Plugins -->
  <link rel="stylesheet" href="assets/css/vendor.min.css">

  <!-- CSS Front Template -->
  <link rel="stylesheet" href="assets/css/theme.minc619.css?v=1.0">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="preload" href="assets/css/theme.min.css" data-hs-appearance="default" as="style">
  <link rel="preload" href="assets/css/theme-dark.min.css" data-hs-appearance="dark" as="style">

  <!-- Hide Customize Button -->
  <style>
    #builderOffcanvas {
      display: none !important;
    }
    
    /* Empêcher le retour à la ligne sur les titres des cartes KPI */
    .card-subtitle {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 100%;
      margin-bottom: 0.75rem !important;
      font-size: 0.875rem;
    }
    
    /* Assurer que les cartes KPI gardent une largeur minimale */
    .col-4 .card {
      min-width: 0;
    }
    
    /* Optimiser l'affichage du contenu des cartes */
    .col-4 .card-body {
      overflow: hidden;
    }
    
    /* Disposition principale : valeur + icône sur la même ligne */
    .col-4 .card .row.align-items-center {
      align-items: center !important;
      margin-bottom: 0.5rem;
    }
    
    /* Valeur principale et icône alignés */
    .col-4 .card .col {
      display: flex;
      flex-direction: column;
    }
    
    .col-4 .card .col .row.align-items-center {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.25rem;
    }
    
    /* Icône centrée */
    .col-4 .card .col-auto {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    
    /* Valeur principale */
    .col-4 .card .card-title {
      margin-bottom: 0;
      line-height: 1.2;
      font-size: 1.75rem;
    }
    
    /* Ligne pourcentage + augmentation */
    .col-4 .card .badge {
      margin-bottom: 0;
      margin-right: 0.5rem;
      font-size: 0.75rem;
    }
    
    /* Container pour les badges */
    .col-4 .card .col .badge + .badge {
      margin-left: 0;
    }
    
    /* Assurer que les badges restent sur la même ligne */
    .col-4 .card .col .row.align-items-center + .badge {
      display: inline-block;
    }
  </style>

  <style data-hs-appearance-onload-styles>
    *
    {
      transition: unset !important;
    }

    body
    {
      opacity: 1;
    }
  </style>

  <!-- ONLY DEV -->

  <style>
    body
    {
      opacity: 1;
    }
  </style>

  <!-- END ONLY DEV -->

  <script>
            window.hs_config = {"autopath":"@@autopath","deleteLine":"hs-builder:delete","deleteLine:build":"hs-builder:build-delete","deleteLine:dist":"hs-builder:dist-delete","previewMode":false,"startPath":"/index.html","vars":{"themeFont":"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap","version":"?v=1.0"},"layoutBuilder":{"extend":{"switcherSupport":true},"header":{"layoutMode":"default","containerMode":"container-fluid"},"sidebarLayout":"default"},"themeAppearance":{"layoutSkin":"default","sidebarSkin":"default","styles":{"colors":{"primary":"#377dff","transparent":"transparent","white":"#fff","dark":"132144","gray":{"100":"#f9fafc","900":"#1e2022"}},"font":"Inter"}},"languageDirection":{"lang":"en"},"skipFilesFromBundle":{"dist":["assets/js/hs.theme-appearance.js","assets/js/hs.theme-appearance-charts.js","assets/js/demo.js"],"build":["assets/css/theme.css","assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js","assets/js/demo.js","assets/css/theme-dark.html","assets/css/docs.css","assets/vendor/icon-set/style.html","assets/js/hs.theme-appearance.js","assets/js/hs.theme-appearance-charts.js","node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.min.html","assets/js/demo.js"]},"minifyCSSFiles":["assets/css/theme.css","assets/css/theme-dark.css"],"copyDependencies":{"dist":{"*assets/js/theme-custom.js":""},"build":{"*assets/js/theme-custom.js":"","node_modules/bootstrap-icons/font/*fonts/**":"assets/css"}},"buildFolder":"","replacePathsToCDN":{},"directoryNames":{"src":"./src","dist":"./dist","build":"./build"},"fileNames":{"dist":{"js":"theme.min.js","css":"theme.min.css"},"build":{"css":"theme.min.css","js":"theme.min.js","vendorCSS":"vendor.min.css","vendorJS":"vendor.min.js"}},"fileTypes":"jpg|png|svg|mp4|webm|ogv|json"}
            window.hs_config.gulpRGBA = (p1) => {
  const options = p1.split(',')
  const hex = options[0].toString()
  const transparent = options[1].toString()

  var c;
  if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){
    c= hex.substring(1).split('');
    if(c.length== 3){
      c= [c[0], c[0], c[1], c[1], c[2], c[2]];
    }
    c= '0x'+c.join('');
    return 'rgba('+[(c>>16)&255, (c>>8)&255, c&255].join(',')+',' + transparent + ')';
  }
  throw new Error('Bad Hex');
}
            window.hs_config.gulpDarken = (p1) => {
  const options = p1.split(',')

  let col = options[0].toString()
  let amt = -parseInt(options[1])
  var usePound = false

  if (col[0] == "#") {
    col = col.slice(1)
    usePound = true
  }
  var num = parseInt(col, 16)
  var r = (num >> 16) + amt
  if (r > 255) {
    r = 255
  } else if (r < 0) {
    r = 0
  }
  var b = ((num >> 8) & 0x00FF) + amt
  if (b > 255) {
    b = 255
  } else if (b < 0) {
    b = 0
  }
  var g = (num & 0x0000FF) + amt
  if (g > 255) {
    g = 255
  } else if (g < 0) {
    g = 0
  }
  return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16)
}
            </script>
</head>

<body class="has-navbar-vertical-aside navbar-vertical-aside-show-xl footer-offset">
  <!-- Header -->
  <header id="header" class="navbar navbar-expand-lg navbar-fixed navbar-height navbar-container navbar-bordered bg-white">
    <div class="navbar-nav-wrap">
      <a class="navbar-brand" href="index.html" aria-label="YEL'S FINANCES">
        <span class="navbar-brand-brand text-warning fw-bold">YEL'S FINANCES</span>
      </a>
      <div class="navbar-nav-wrap-content-end">
        <ul class="navbar-nav">
          <li class="nav-item">
            <div class="dropdown">
              <a class="navbar-dropdown-account-wrapper" href="javascript:;" id="accountNavbarDropdown" data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside" data-bs-dropdown-animation>
                <div class="avatar avatar-sm avatar-circle">
                  <img class="avatar-img" src="assets/img/160x160/img6.jpg" alt="Image Description">
                  <span class="avatar-status avatar-sm-status avatar-status-success"></span>
                </div>
              </a>
              <div class="dropdown-menu dropdown-menu-end navbar-dropdown-menu navbar-dropdown-menu-borderless navbar-dropdown-account" aria-labelledby="accountNavbarDropdown" style="width: 16rem;">
                <div class="dropdown-item-text">
                  <div class="d-flex align-items-center">
                    <div class="avatar avatar-sm avatar-circle">
                      <img class="avatar-img" src="assets/img/160x160/img6.jpg" alt="Image Description">
                    </div>
                    <div class="flex-grow-1 ms-3">
                      <h5 class="mb-0">Admin</h5>
                      <p class="card-text text-body">admin@formation.com</p>
                    </div>
                  </div>
                </div>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Mon profil</a>
                <a class="dropdown-item" href="#">Paramètres</a>
                    <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Déconnexion</a>
                  </div>
                </div>
          </li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <aside class="js-navbar-vertical-aside navbar navbar-vertical-aside navbar-vertical navbar-vertical-fixed navbar-expand-xl navbar-bordered bg-white">
    <div class="navbar-vertical-container">
      <div class="navbar-vertical-footer-offset">
        <a class="navbar-brand" href="index.html" aria-label="YEL'S FINANCES">
          <span class="navbar-brand-brand text-warning fw-bold">YEL'S FINANCES</span>
        </a>
        <div class="navbar-vertical-content">
          <div id="navbarVerticalMenu" class="nav nav-pills nav-vertical card-navbar-nav">
            <div class="nav-item">
              <a class="nav-link active" href="index.html">
                <i class="bi-house-door nav-icon"></i>
                <span class="nav-link-title">Dashboard</span>
              </a>
            </div>

            <div class="nav-item">
              <a class="nav-link" href="formations.html">
                <i class="bi-book nav-icon"></i>
                                        <span class="nav-link-title">Gestion des formations</span>
              </a>
            </div>

            <!-- Sessions -->
            <div class="nav-item">
              <a class="nav-link" href="sessions.html">
                <i class="bi-calendar-event nav-icon"></i>
                <span class="nav-link-title">Gestion des sessions</span>
              </a>
            </div>

            <div class="nav-item">
              <a class="nav-link" href="inscriptions.html">
                <i class="bi-credit-card nav-icon"></i>
                <span class="nav-link-title">État des paiements</span>
              </a>
            </div>

            <div class="nav-item">
              <a class="nav-link" href="etudiants.html">
                <i class="bi-person nav-icon"></i>
                <span class="nav-link-title">Gestion des participants</span>
              </a>
            </div>

            <div class="nav-item">
              <a class="nav-link" href="instructeurs-liste.html">
                <i class="bi-person-badge nav-icon"></i>
                <span class="nav-link-title">Gestion des formateurs</span>
              </a>
            </div>
            </div>
            </div>
      </div>
    </div>
  </aside>

  <main id="content" role="main" class="main">
    <!-- Content -->
    <div class="content container-fluid">
      <!-- Page Header -->
      <div class="page-header">
        <div class="row align-items-center mb-3">
          <div class="col-sm mb-2 mb-sm-0">
            <h1 class="page-header-title">Bonjour ! <span class="badge bg-soft-dark text-dark ms-2">Ghislain</span></h1>

            <div class="mt-2">
              <p class="page-header-text">Voici un aperçu de votre centre de formation aujourd'hui.</p>
            </div>
          </div>
          <!-- End Col -->

          <div class="col-sm-auto">
            <a class="btn btn-primary" href="formations-add.html">
              <i class="bi-plus me-1"></i>
              Ajouter une session
            </a>
          </div>
          <!-- End Col -->
        </div>
        <!-- End Row -->

        <!-- Filtres de recherche - Version collapsible -->
        <div class="mb-3">
          <!-- Bouton pour ouvrir/fermer les filtres -->
          <div class="d-flex justify-content-end mb-2">
            <button type="button" class="btn btn-outline-primary btn-sm" id="toggleFiltersBtn">
              <i class="bi-funnel me-1"></i>
              <span id="toggleFiltersText">Filtres</span>
            </button>
          </div>

                    <!-- Panneau des filtres (caché par défaut) -->
allons 
          </div>

        <!-- KPIs -->
        <div class="row flex-nowrap">
          <div class="col-4 mb-3 mb-lg-5">
            <!-- Card -->
            <div class="card card-hover-shadow h-100">
              <div class="card-body">
                <h6 class="card-subtitle">Effectifs total des apprenants</h6>
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <span class="card-title h2 mb-0">2 847</span>
                  <div class="avatar avatar-sm avatar-soft-primary avatar-circle">
                    <span class="avatar-initials">
                      <i class="bi-people"></i>
                  </span>
                </div>
              </div>
              <div class="d-flex align-items-center">
                  <span class="badge bg-soft-success text-success me-2">
                    <i class="bi-graph-up"></i> 12.5%
                  </span>
                  <span class="badge bg-soft-primary text-primary">+284 ce mois</span>
                </div>
              </div>
            </div>
            <!-- End Card -->
          </div>
                                    <!-- End Col -->

          <div class="col-4 mb-3 mb-lg-5">
            <!-- Card -->
            <div class="card card-hover-shadow h-100">
              <div class="card-body">
                <h6 class="card-subtitle">Montant total des ventes</h6>
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <span class="card-title h2 mb-0">12,5M</span>
                  <div class="avatar avatar-sm avatar-soft-success avatar-circle">
                    <span class="avatar-initials">
                      <i class="bi-currency-exchange"></i>
              </span>
                </div>
              </div>
              <div class="d-flex align-items-center">
                  <span class="badge bg-soft-success text-success me-2">
                    <i class="bi-graph-up"></i> 8.2%
                  </span>
                  <span class="badge bg-soft-primary text-primary">+1,2M ce mois</span>
                </div>
              </div>
            </div>
            <!-- End Card -->
        </div>
        <!-- End Col -->

          <div class="col-4 mb-3 mb-lg-5">
            <!-- Card -->
            <div class="card card-hover-shadow h-100">
              <div class="card-body">
                <h6 class="card-subtitle">Nombres de sessions en cours</h6>
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <span class="card-title h2 mb-0">1 654</span>
                  <div class="avatar avatar-sm avatar-soft-warning avatar-circle">
                    <span class="avatar-initials">
                      <i class="bi-trophy"></i>
                    </span>
      </div>
    </div>
                                      <div class="d-flex align-items-center">
                  <span class="badge bg-soft-success text-success me-2">
                    <i class="bi-graph-up"></i> 2.1%
        </span>
                  <span class="badge bg-soft-primary text-primary">+1.8% ce mois</span>
          </div>
        </div>
          </div>
            <!-- End Card -->
        </div>
        <!-- End Col -->
          </div>
        <!-- End KPIs -->

        <!-- Graphiques -->
                                  <div class="row">
          <!-- Inscriptions par mois -->
          <div class="col-lg-8 mb-3 mb-lg-5">
            <!-- Card -->
            <div class="card card-hover-shadow h-100">
                        <!-- Header -->
                        <div class="card-header">
                <h4 class="card-header-title">Evolution par formation</h4>
                <div class="card-header-actions">
                  <select class="form-select form-select-sm" id="chartFormationFilter">
                    <option value="all">Toutes les formations</option>
                    <option value="web-dev">Développement Web Full-Stack</option>
                    <option value="data-science">Data Science</option>
                    <option value="design">Design UX/UI</option>
                    <option value="mobile">Développement Mobile</option>
                    <option value="marketing">Marketing Digital</option>
                  </select>
                            </div>
                        </div>
                        <!-- End Header -->

                        <!-- Body -->
              <div class="card-body">
                <div class="chart-container" style="position: relative; height:300px;">
                  <canvas id="inscriptionsChart"></canvas>
                                        </div>
                                      </div>
                        <!-- End Body -->
                                    </div>
            <!-- End Card -->
                                    </div>
                                    <!-- End Col -->

          <!-- Répartition par catégorie -->
          <div class="col-lg-4 mb-3 mb-lg-5">
            <!-- Card -->
            <div class="card card-hover-shadow h-100">
                        <!-- Header -->
                        <div class="card-header">
                <h4 class="card-header-title">Repartition du chiffre d'affaires par formation</h4>
                        </div>
                        <!-- End Header -->

                        <!-- Body -->
              <div class="card-body">
                <div class="chart-container" style="position: relative; height:300px;">
                  <canvas id="categoriesChart"></canvas>
                              </div>
                        </div>
                        <!-- End Body -->
                      </div>
            <!-- End Card -->
                                      </div>
                                      <!-- End Col -->
                                      </div>
        <!-- End Graphiques -->

        <!-- Tableaux de données -->
                                    <div class="row">
          <!-- Formations populaires -->
          <div class="col-12 mb-3 mb-lg-5">
            <!-- Card -->
            <div class="card card-hover-shadow h-100">
                          <!-- Header -->
                          <div class="card-header">
                <h4 class="card-header-title">Formations les Plus Populaires</h4>
                          </div>
                          <!-- End Header -->

                          <!-- Body -->
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-borderless table-thead-bordered table-nowrap table-align-middle">
                    <thead class="thead-light">
                      <tr>
                        <th>Formation</th>
                        <th>Inscriptions</th>
                        <th>Revenus</th>
                        <th>Note</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                              <div class="d-flex align-items-center">
                            <div class="avatar avatar-sm avatar-circle me-3">
                              <img class="avatar-img" src="assets/img/400x400/img1.jpg" alt="Image Description">
                                </div>
                            <div>
                              <h6 class="mb-0">Développement Web Full-Stack</h6>
                              <small class="text-body">React & Node.js</small>
                                </div>
                              </div>
                        </td>
                        <td><span class="badge bg-soft-primary text-primary">2,450</span></td>
                        <td>2.2M F CFA</td>
                        <td><span class="badge bg-soft-success text-success">4.8/5</span></td>
                      </tr>
                      <tr>
                        <td>
                              <div class="d-flex align-items-center">
                            <div class="avatar avatar-sm avatar-circle me-3">
                              <img class="avatar-img" src="assets/img/400x400/img2.jpg" alt="Image Description">
                                </div>
                            <div>
                              <h6 class="mb-0">Data Science</h6>
                              <small class="text-body">Python & ML</small>
                                </div>
                              </div>
                        </td>
                        <td><span class="badge bg-soft-primary text-primary">1,890</span></td>
                        <td>1.8M F CFA</td>
                        <td><span class="badge bg-soft-success text-success">4.7/5</span></td>
                      </tr>
                      <tr>
                        <td>
                              <div class="d-flex align-items-center">
                            <div class="avatar avatar-sm avatar-circle me-3">
                              <img class="avatar-img" src="assets/img/400x400/img3.jpg" alt="Image Description">
                                </div>
                            <div>
                              <h6 class="mb-0">Design UX/UI</h6>
                              <small class="text-body">Figma & Adobe</small>
                                </div>
                              </div>
                        </td>
                        <td><span class="badge bg-soft-primary text-primary">1,234</span></td>
                        <td>1.1M F CFA</td>
                        <td><span class="badge bg-soft-success text-success">4.6/5</span></td>
                      </tr>
                    </tbody>
                  </table>
                                </div>
                          </div>
                          <!-- End Body -->
                        </div>
            <!-- End Card -->
                      </div>
          <!-- End Col -->


                      </div>
        <!-- End Tableaux -->
                    </div>
      <!-- End Content -->
                        </div>
    <!-- End Content -->
  </main>
  <!-- ========== END MAIN CONTENT ========== -->

  <!-- Footer -->
  <div class="footer">
    <div class="row justify-content-between align-items-center">
      <div class="col">
        <p class="fs-6 mb-0">&copy; 2024 YEL'S FINANCES. Tous droits réservés. | Développé par MN electronics</p>
                            </div>
      <div class="col-auto">
        <div class="d-flex justify-content-end">
          <ul class="list-inline list-separator">
            <li class="list-inline-item">
              <a class="list-separator-link" href="#">FAQ</a>
                  </li>
            <li class="list-inline-item">
              <a class="list-separator-link" href="#">License</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

  <!-- JS Implementing Plugins -->
  <script src="assets/js/vendor.min.js"></script>

  <!-- JS Front -->
  <script src="assets/js/theme.min.js"></script>

  <!-- JS Plugins Init. -->
  <script>
    (function() {
      window.onload = function () {
        // INITIALIZATION OF NAVBAR VERTICAL ASIDE
        // =======================================================
        new HSSideNav('.js-navbar-vertical-aside').init()

        // INITIALIZATION OF BOOTSTRAP DROPDOWN
        // =======================================================
        HSBsDropdown.init()

        // INITIALIZATION OF SELECT
        // =======================================================
        HSCore.components.HSTomSelect.init('.js-select')

        // INITIALIZATION OF NAV SCROLLER
        // =======================================================
        new HsNavScroller('.js-nav-scroller')
      }
    })()
  </script>

  <!-- Chart.js Scripts -->
  <script>
    // Données par formation et leurs sessions
    const formationData = {
      all: {
        effectifs: '2,847',
        ventes: '12.5M',
        sessions: '1654',
        inscriptions: '+284'
      },
      'web-dev': {
        formation: 'Développement Web Full-Stack',
        sessions: [
          { id: 'web-jan24', name: 'Session Janvier 2024', effectifs: '45', ventes: '2.1M', inscriptions: '+12' },
          { id: 'web-mar24', name: 'Session Mars 2024', effectifs: '38', ventes: '1.8M', inscriptions: '+8' },
          { id: 'web-mai24', name: 'Session Mai 2024', effectifs: '52', ventes: '2.4M', inscriptions: '+15' },
          { id: 'web-jul24', name: 'Session Juillet 2024', effectifs: '41', ventes: '1.9M', inscriptions: '+10' }
        ],
        total: {
          effectifs: '176',
          ventes: '8.2M',
          sessions: '4',
          inscriptions: '+45'
        }
      },
      'data-science': {
        formation: 'Data Science',
        sessions: [
          { id: 'data-feb24', name: 'Session Février 2024', effectifs: '28', ventes: '1.3M', inscriptions: '+7' },
          { id: 'data-apr24', name: 'Session Avril 2024', effectifs: '32', ventes: '1.5M', inscriptions: '+9' },
          { id: 'data-jun24', name: 'Session Juin 2024', effectifs: '25', ventes: '1.1M', inscriptions: '+6' }
        ],
        total: {
          effectifs: '85',
          ventes: '3.9M',
          sessions: '3',
          inscriptions: '+22'
        }
      },
      'design': {
        formation: 'Design UX/UI',
        sessions: [
          { id: 'design-mar24', name: 'Session Mars 2024', effectifs: '18', ventes: '0.8M', inscriptions: '+4' },
          { id: 'design-may24', name: 'Session Mai 2024', effectifs: '22', ventes: '1.0M', inscriptions: '+5' }
        ],
        total: {
          effectifs: '40',
          ventes: '1.8M',
          sessions: '2',
          inscriptions: '+9'
        }
      }
    };

    // Fonction pour mettre à jour les sessions disponibles
    function updateSessionOptions(formation) {
      const sessionFilter = document.getElementById('sessionFilter');
      const sessionContainer = document.getElementById('sessionFilterContainer');
      
      if (formation === 'all') {
        sessionContainer.style.display = 'none';
        return;
      }
      
      sessionContainer.style.display = 'block';
      sessionFilter.innerHTML = '<option value="all-sessions">Toutes les sessions</option>';
      
      if (formationData[formation]) {
        formationData[formation].sessions.forEach(session => {
          const option = document.createElement('option');
          option.value = session.id;
          option.textContent = session.name;
          sessionFilter.appendChild(option);
        });
      }
    }

    // Fonction pour mettre à jour les données
    function updateDashboardData(formation, session = null) {
      let data;
      
      if (formation === 'all') {
        data = formationData.all;
      } else if (session && session !== 'all-sessions') {
        // Trouver la session spécifique
        const formationSessions = formationData[formation].sessions;
        const selectedSession = formationSessions.find(s => s.id === session);
        if (selectedSession) {
          data = selectedSession;
        } else {
          data = formationData[formation].total;
        }
      } else {
        data = formationData[formation].total;
      }
      
      // Mise à jour des effectifs
      const effectifsElement = document.querySelector('.card-title.h2');
      if (effectifsElement) effectifsElement.textContent = data.effectifs;
      
      // Mise à jour des ventes
      const ventesElement = document.querySelectorAll('.card-title.h2')[1];
      if (ventesElement) ventesElement.textContent = data.ventes;
      
      // Mise à jour des sessions
      const sessionsElement = document.querySelectorAll('.card-title.h2')[2];
      if (sessionsElement) sessionsElement.textContent = data.sessions;
      
      // Mise à jour des inscriptions
      const inscriptionsBadge = document.querySelector('.badge.bg-soft-primary.text-primary');
      if (inscriptionsBadge) inscriptionsBadge.textContent = `+${data.inscriptions} ce mois`;
    }

    // Données pour le graphique par formation
    const chartData = {
      all: {
        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        data: [284, 312, 298, 345, 378, 412, 389, 423, 456, 478, 512, 534]
      },
      'web-dev': {
        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        data: [45, 52, 38, 67, 52, 78, 41, 89, 95, 102, 115, 128]
      },
      'data-science': {
        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        data: [28, 35, 42, 32, 48, 25, 38, 45, 52, 58, 65, 72]
      },
      'design': {
        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        data: [18, 22, 18, 25, 22, 28, 32, 35, 38, 42, 45, 48]
      },
      'mobile': {
        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        data: [12, 15, 18, 22, 25, 28, 32, 35, 38, 42, 45, 48]
      },
      'marketing': {
        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        data: [8, 10, 12, 15, 18, 20, 22, 25, 28, 30, 32, 35]
      }
    };

    // Variable globale pour le graphique
    let inscriptionsChart;

    // Fonction pour mettre à jour le graphique
    function updateChart(formation) {
      const chartCanvas = document.getElementById('inscriptionsChart');
      if (!chartCanvas) return;
      
      const chartDataForFormation = chartData[formation] || chartData.all;
      
      if (inscriptionsChart) {
        inscriptionsChart.destroy();
      }
      
      inscriptionsChart = new Chart(chartCanvas, {
        type: 'line',
        data: {
          labels: chartDataForFormation.labels,
          datasets: [{
            label: formation === 'all' ? 'Inscriptions totales' : `Inscriptions - ${formationData[formation]?.formation || 'Formation'}`,
            data: chartDataForFormation.data,
            borderColor: '#0d6efd',
            backgroundColor: 'rgba(13, 110, 253, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0, 0, 0, 0.1)'
              }
            },
            x: {
              grid: {
                display: false
              }
            }
          }
        }
      });
    }

    // Écouteurs d'événements
    document.addEventListener('DOMContentLoaded', function() {
      const formationFilter = document.getElementById('formationFilter');
      const sessionFilter = document.getElementById('sessionFilter');
      const chartFormationFilter = document.getElementById('chartFormationFilter');
      const dateFilterContainer = document.getElementById('dateFilterContainer');
      const searchButton = document.getElementById('searchButton');
      
      // Gestion du panneau collapsible
      const toggleFiltersBtn = document.getElementById('toggleFiltersBtn');
      const filtersPanel = document.getElementById('filtersPanel');
      const toggleFiltersText = document.getElementById('toggleFiltersText');
      
      if (toggleFiltersBtn && filtersPanel) {
        toggleFiltersBtn.addEventListener('click', function() {
          if (filtersPanel.style.display === 'none') {
            filtersPanel.style.display = 'block';
            toggleFiltersText.textContent = 'Filtres';
            toggleFiltersBtn.classList.remove('btn-outline-primary');
            toggleFiltersBtn.classList.add('btn-primary');
          } else {
            filtersPanel.style.display = 'none';
            toggleFiltersText.textContent = 'Filtres';
            toggleFiltersBtn.classList.remove('btn-primary');
            toggleFiltersBtn.classList.add('btn-outline-primary');
          }
        });
      }
      
      // Initialiser le graphique avec les données globales
      updateChart('all');
      
      if (formationFilter) {
        formationFilter.addEventListener('change', function() {
          const selectedFormation = this.value;
          
          if (selectedFormation === 'all') {
            document.getElementById('sessionFilterContainer').style.display = 'none';
            updateDashboardData('all');
          } else {
            document.getElementById('sessionFilterContainer').style.display = 'none';
          }
        });
      }
      
      if (searchButton) {
        searchButton.addEventListener('click', function() {
          const selectedFormation = document.getElementById('formationFilter').value;
          const startDate = document.getElementById('startDateFilter').value;
          const endDate = document.getElementById('endDateFilter').value;
          
          if (selectedFormation !== 'all' && startDate && endDate) {
            // Afficher le filtre des sessions après la recherche
            updateSessionOptions(selectedFormation);
            document.getElementById('sessionFilterContainer').style.display = 'block';
            
            // Mettre à jour les données avec les filtres de date
            updateDashboardData(selectedFormation);
          }
        });
      }
      
      if (sessionFilter) {
        sessionFilter.addEventListener('change', function() {
          const selectedFormation = document.getElementById('formationFilter').value;
          updateDashboardData(selectedFormation, this.value);
        });
      }
      
      if (chartFormationFilter) {
        chartFormationFilter.addEventListener('change', function() {
          updateChart(this.value);
        });
      }
    });



    // Graphique du chiffre d'affaires par formation
    const categoriesCtx = document.getElementById('categoriesChart');
    if (categoriesCtx) {
      new Chart(categoriesCtx, {
        type: 'doughnut',
        data: {
          labels: ['Web Full-Stack', 'Data Science', 'Design UX/UI', 'Mobile', 'Marketing'],
          datasets: [{
            data: [35, 25, 20, 15, 5],
            backgroundColor: [
              '#377dff',
              '#00c9a7',
              '#ffc107',
              '#dc3545',
              '#6c757d'
            ],
            borderWidth: 0
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'bottom',
              labels: {
                usePointStyle: true,
                padding: 15,
                font: {
                  size: 12
                },
                generateLabels: function(chart) {
                  const data = chart.data;
                  if (data.labels.length && data.datasets.length) {
                    return data.labels.map(function(label, i) {
                      const dataset = data.datasets[0];
                      const backgroundColor = dataset.backgroundColor[i];
                      
                      return {
                        text: label,
                        fillStyle: backgroundColor,
                        strokeStyle: backgroundColor,
                        lineWidth: 0,
                        pointStyle: 'circle',
                        hidden: false,
                        index: i
                      };
                    });
                  }
                  return [];
                }
              }
            }
          }
        }
      });
    }
    </script>
</body>
</html>